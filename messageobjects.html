<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 10 MessageObjects | Big Data Case Studies</title>
  <meta name="description" content="Chapter 10 MessageObjects | Big Data Case Studies" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 10 MessageObjects | Big Data Case Studies" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Chapter 10 MessageObjects | Big Data Case Studies" />
  <meta name="github-repo" content="bchwtz/bchwtz-bdcs" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 10 MessageObjects | Big Data Case Studies" />
  
  <meta name="twitter:description" content="Chapter 10 MessageObjects | Big Data Case Studies" />
  

<meta name="author" content="Benjamin Buchwitz" />


<meta name="date" content="2021-11-29" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="ble-gatt-messages.html"/>
<link rel="next" href="sensor-1.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./"><b>Big Data Case Studies</b></a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="getting-started.html"><a href="getting-started.html"><i class="fa fa-check"></i><b>2</b> Getting Started</a><ul>
<li class="chapter" data-level="2.1" data-path="getting-started.html"><a href="getting-started.html#sensor-dev-env"><i class="fa fa-check"></i><b>2.1</b> Sensor Dev Env</a><ul>
<li class="chapter" data-level="2.1.1" data-path="getting-started.html"><a href="getting-started.html#software-setup"><i class="fa fa-check"></i><b>2.1.1</b> Software Setup</a></li>
<li class="chapter" data-level="2.1.2" data-path="getting-started.html"><a href="getting-started.html#hardware-setup"><i class="fa fa-check"></i><b>2.1.2</b> Hardware Setup</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="getting-started.html"><a href="getting-started.html#gateway-dev-env"><i class="fa fa-check"></i><b>2.2</b> Gateway Dev Env</a><ul>
<li class="chapter" data-level="2.2.1" data-path="getting-started.html"><a href="getting-started.html#raspberry-connection-via-screen"><i class="fa fa-check"></i><b>2.2.1</b> Raspberry connection via screen</a></li>
<li class="chapter" data-level="2.2.2" data-path="getting-started.html"><a href="getting-started.html#raspberry-connection-without-a-screen-headless-setup"><i class="fa fa-check"></i><b>2.2.2</b> Raspberry connection without a screen (headless setup)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="setup-a-jupyterhub-on-your-raspberrypi.html"><a href="setup-a-jupyterhub-on-your-raspberrypi.html"><i class="fa fa-check"></i><b>3</b> Setup a Jupyterhub on your RaspberryPi</a><ul>
<li class="chapter" data-level="3.1" data-path="setup-a-jupyterhub-on-your-raspberrypi.html"><a href="setup-a-jupyterhub-on-your-raspberrypi.html#prepare-python-environment"><i class="fa fa-check"></i><b>3.1</b> Prepare Python environment</a></li>
<li class="chapter" data-level="3.2" data-path="setup-a-jupyterhub-on-your-raspberrypi.html"><a href="setup-a-jupyterhub-on-your-raspberrypi.html#install-jupyterhub"><i class="fa fa-check"></i><b>3.2</b> Install JupyterHub</a></li>
<li class="chapter" data-level="3.3" data-path="setup-a-jupyterhub-on-your-raspberrypi.html"><a href="setup-a-jupyterhub-on-your-raspberrypi.html#configure-jupyterhub-as-a-system-service"><i class="fa fa-check"></i><b>3.3</b> Configure JupyterHub as a system service</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="pycharm.html"><a href="pycharm.html"><i class="fa fa-check"></i><b>4</b> PyCharm</a><ul>
<li class="chapter" data-level="4.1" data-path="pycharm.html"><a href="pycharm.html#pycharm-git-repository"><i class="fa fa-check"></i><b>4.1</b> PyCharm Git Repository</a></li>
<li class="chapter" data-level="4.2" data-path="pycharm.html"><a href="pycharm.html#remotedeploy"><i class="fa fa-check"></i><b>4.2</b> RemoteDeploy</a></li>
</ul></li>
<li class="part"><span><b>Documentation</b></span></li>
<li class="chapter" data-level="5" data-path="sensor.html"><a href="sensor.html"><i class="fa fa-check"></i><b>5</b> Sensor</a><ul>
<li class="chapter" data-level="5.1" data-path="sensor.html"><a href="sensor.html#initializing-acceleration-logging"><i class="fa fa-check"></i><b>5.1</b> Initializing acceleration logging</a></li>
<li class="chapter" data-level="5.2" data-path="sensor.html"><a href="sensor.html#retrieving-data-from-fifo"><i class="fa fa-check"></i><b>5.2</b> Retrieving data from FIFO</a></li>
<li class="chapter" data-level="5.3" data-path="sensor.html"><a href="sensor.html#using-the-data-by-hearbeat"><i class="fa fa-check"></i><b>5.3</b> Using the data by hearbeat</a></li>
<li class="chapter" data-level="5.4" data-path="sensor.html"><a href="sensor.html#initialization-during-boot"><i class="fa fa-check"></i><b>5.4</b> Initialization during boot</a></li>
<li class="chapter" data-level="5.5" data-path="sensor.html"><a href="sensor.html#streaming-of-acceleration-data"><i class="fa fa-check"></i><b>5.5</b> Streaming of acceleration data</a></li>
<li class="chapter" data-level="5.6" data-path="sensor.html"><a href="sensor.html#implementation"><i class="fa fa-check"></i><b>5.6</b> Implementation</a><ul>
<li class="chapter" data-level="5.6.1" data-path="sensor.html"><a href="sensor.html#app_accelerometer_logging.c"><i class="fa fa-check"></i><b>5.6.1</b> app_accelerometer_logging.c</a></li>
<li class="chapter" data-level="5.6.2" data-path="sensor.html"><a href="sensor.html#app_comms.c"><i class="fa fa-check"></i><b>5.6.2</b> app_comms.c</a></li>
<li class="chapter" data-level="5.6.3" data-path="sensor.html"><a href="sensor.html#ruuvi_nrf5_sdk15_communication_ble_gatt.c"><i class="fa fa-check"></i><b>5.6.3</b> ruuvi_nrf5_sdk15_communication_ble_gatt.c</a></li>
<li class="chapter" data-level="5.6.4" data-path="sensor.html"><a href="sensor.html#app_config.h"><i class="fa fa-check"></i><b>5.6.4</b> app_config.h</a></li>
<li class="chapter" data-level="5.6.5" data-path="sensor.html"><a href="sensor.html#app_sensor.c"><i class="fa fa-check"></i><b>5.6.5</b> app_sensor.c</a></li>
<li class="chapter" data-level="5.6.6" data-path="sensor.html"><a href="sensor.html#main.c"><i class="fa fa-check"></i><b>5.6.6</b> main.c</a></li>
<li class="chapter" data-level="5.6.7" data-path="sensor.html"><a href="sensor.html#ruuvi_interface_lis2dh12.c"><i class="fa fa-check"></i><b>5.6.7</b> ruuvi_interface_lis2dh12.c</a></li>
<li class="chapter" data-level="5.6.8" data-path="sensor.html"><a href="sensor.html#ruuvi_nrf5_sdk_rtc_mcu.c"><i class="fa fa-check"></i><b>5.6.8</b> ruuvi_nrf5_sdk_rtc_mcu.c</a></li>
<li class="chapter" data-level="5.6.9" data-path="sensor.html"><a href="sensor.html#ruuvi_nrf5_sdk15_power.c-ruuvi_nrf5_sdk15_power.h"><i class="fa fa-check"></i><b>5.6.9</b> ruuvi_nrf5_sdk15_power.c / ruuvi_nrf5_sdk15_power.h</a></li>
<li class="chapter" data-level="5.6.10" data-path="sensor.html"><a href="sensor.html#ruuvi_task_flash_ringbuffer.c"><i class="fa fa-check"></i><b>5.6.10</b> ruuvi_task_flash_ringbuffer.c</a></li>
<li class="chapter" data-level="5.6.11" data-path="sensor.html"><a href="sensor.html#ruuvi_task_flashdb.c"><i class="fa fa-check"></i><b>5.6.11</b> ruuvi_task_flashdb.c</a></li>
<li class="chapter" data-level="5.6.12" data-path="sensor.html"><a href="sensor.html#app_button.c"><i class="fa fa-check"></i><b>5.6.12</b> app_button.c</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="sensor.html"><a href="sensor.html#energy-consumption"><i class="fa fa-check"></i><b>5.7</b> Energy consumption</a></li>
<li class="chapter" data-level="5.8" data-path="sensor.html"><a href="sensor.html#firmware-packaging"><i class="fa fa-check"></i><b>5.8</b> Firmware packaging</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="external-flash-integration.html"><a href="external-flash-integration.html"><i class="fa fa-check"></i><b>6</b> External Flash Integration</a><ul>
<li class="chapter" data-level="6.1" data-path="external-flash-integration.html"><a href="external-flash-integration.html#macronix-flash"><i class="fa fa-check"></i><b>6.1</b> Macronix Flash</a></li>
<li class="chapter" data-level="6.2" data-path="external-flash-integration.html"><a href="external-flash-integration.html#database-vs.-filesystem"><i class="fa fa-check"></i><b>6.2</b> Database vs. Filesystem</a><ul>
<li class="chapter" data-level="6.2.1" data-path="external-flash-integration.html"><a href="external-flash-integration.html#flashdb"><i class="fa fa-check"></i><b>6.2.1</b> FlashDB <img src="gfx/org/flashdb.png" /></a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="external-flash-integration.html"><a href="external-flash-integration.html#implementation-1"><i class="fa fa-check"></i><b>6.3</b> Implementation</a><ul>
<li class="chapter" data-level="6.3.1" data-path="external-flash-integration.html"><a href="external-flash-integration.html#flashdb-api"><i class="fa fa-check"></i><b>6.3.1</b> FlashDB API</a></li>
<li class="chapter" data-level="6.3.2" data-path="external-flash-integration.html"><a href="external-flash-integration.html#data-base-config-files"><i class="fa fa-check"></i><b>6.3.2</b> Data Base config files</a></li>
<li class="chapter" data-level="6.3.3" data-path="external-flash-integration.html"><a href="external-flash-integration.html#macronix-low-level-driver-functions"><i class="fa fa-check"></i><b>6.3.3</b> Macronix low level driver functions</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="external-flash-integration.html"><a href="external-flash-integration.html#flashdb-evaluation"><i class="fa fa-check"></i><b>6.4</b> FlashDB evaluation</a><ul>
<li class="chapter" data-level="6.4.1" data-path="external-flash-integration.html"><a href="external-flash-integration.html#energy-consumption-1"><i class="fa fa-check"></i><b>6.4.1</b> Energy consumption</a></li>
<li class="chapter" data-level="6.4.2" data-path="external-flash-integration.html"><a href="external-flash-integration.html#github-issue-11-write-performance-on-external-flash"><i class="fa fa-check"></i><b>6.4.2</b> GitHub Issue #11 Write Performance on External Flash</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="gateway.html"><a href="gateway.html"><i class="fa fa-check"></i><b>7</b> Gateway</a><ul>
<li class="chapter" data-level="7.1" data-path="gateway.html"><a href="gateway.html#sensor-gateway-communication-library"><i class="fa fa-check"></i><b>7.1</b> Sensor Gateway Communication Library</a><ul>
<li class="chapter" data-level="7.1.1" data-path="gateway.html"><a href="gateway.html#activate-acceleration-logging"><i class="fa fa-check"></i><b>7.1.1</b> Activate acceleration logging</a></li>
<li class="chapter" data-level="7.1.2" data-path="gateway.html"><a href="gateway.html#deactivate-acceleration-logging"><i class="fa fa-check"></i><b>7.1.2</b> Deactivate acceleration logging</a></li>
<li class="chapter" data-level="7.1.3" data-path="gateway.html"><a href="gateway.html#set-sensor-configuration"><i class="fa fa-check"></i><b>7.1.3</b> Set sensor configuration</a></li>
<li class="chapter" data-level="7.1.4" data-path="gateway.html"><a href="gateway.html#set-sensor-time"><i class="fa fa-check"></i><b>7.1.4</b> Set sensor time</a></li>
<li class="chapter" data-level="7.1.5" data-path="gateway.html"><a href="gateway.html#get-sensor-configuration"><i class="fa fa-check"></i><b>7.1.5</b> Get sensor configuration</a></li>
<li class="chapter" data-level="7.1.6" data-path="gateway.html"><a href="gateway.html#get-sensor-time"><i class="fa fa-check"></i><b>7.1.6</b> Get sensor time</a></li>
<li class="chapter" data-level="7.1.7" data-path="gateway.html"><a href="gateway.html#get-acceleration-data"><i class="fa fa-check"></i><b>7.1.7</b> Get acceleration data</a></li>
<li class="chapter" data-level="7.1.8" data-path="gateway.html"><a href="gateway.html#get-flash-statistics"><i class="fa fa-check"></i><b>7.1.8</b> Get flash statistics</a></li>
<li class="chapter" data-level="7.1.9" data-path="gateway.html"><a href="gateway.html#get-logging-status"><i class="fa fa-check"></i><b>7.1.9</b> Get logging status</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="gateway.html"><a href="gateway.html#advertisement-logging"><i class="fa fa-check"></i><b>7.2</b> Advertisement logging</a></li>
<li class="chapter" data-level="7.3" data-path="gateway.html"><a href="gateway.html#data-storage-format"><i class="fa fa-check"></i><b>7.3</b> Data storage format</a><ul>
<li class="chapter" data-level="7.3.1" data-path="gateway.html"><a href="gateway.html#csv-file-acceleration-logging"><i class="fa fa-check"></i><b>7.3.1</b> Csv file acceleration Logging</a></li>
<li class="chapter" data-level="7.3.2" data-path="gateway.html"><a href="gateway.html#csv-file-advertisement-logging"><i class="fa fa-check"></i><b>7.3.2</b> Csv file advertisement Logging</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="backend.html"><a href="backend.html"><i class="fa fa-check"></i><b>8</b> Backend</a></li>
<li class="chapter" data-level="9" data-path="ble-gatt-messages.html"><a href="ble-gatt-messages.html"><i class="fa fa-check"></i><b>9</b> BLE GATT Messages</a><ul>
<li class="chapter" data-level="9.1" data-path="ble-gatt-messages.html"><a href="ble-gatt-messages.html#general-message-structure"><i class="fa fa-check"></i><b>9.1</b> General message structure</a></li>
<li class="chapter" data-level="9.2" data-path="ble-gatt-messages.html"><a href="ble-gatt-messages.html#control-messages"><i class="fa fa-check"></i><b>9.2</b> Control messages</a><ul>
<li class="chapter" data-level="9.2.1" data-path="ble-gatt-messages.html"><a href="ble-gatt-messages.html#start-transmitting-acceleration-data"><i class="fa fa-check"></i><b>9.2.1</b> Start transmitting acceleration data</a></li>
<li class="chapter" data-level="9.2.2" data-path="ble-gatt-messages.html"><a href="ble-gatt-messages.html#set-configuration-of-acceleration-sensor"><i class="fa fa-check"></i><b>9.2.2</b> Set configuration of acceleration sensor</a></li>
<li class="chapter" data-level="9.2.3" data-path="ble-gatt-messages.html"><a href="ble-gatt-messages.html#read-configuration-of-acceleration-sensor"><i class="fa fa-check"></i><b>9.2.3</b> Read configuration of acceleration sensor</a></li>
<li class="chapter" data-level="9.2.4" data-path="ble-gatt-messages.html"><a href="ble-gatt-messages.html#set-system-time"><i class="fa fa-check"></i><b>9.2.4</b> Set system time</a></li>
<li class="chapter" data-level="9.2.5" data-path="ble-gatt-messages.html"><a href="ble-gatt-messages.html#read-system-time"><i class="fa fa-check"></i><b>9.2.5</b> Read system time</a></li>
<li class="chapter" data-level="9.2.6" data-path="ble-gatt-messages.html"><a href="ble-gatt-messages.html#control-acceleration-logging"><i class="fa fa-check"></i><b>9.2.6</b> Control acceleration logging</a></li>
<li class="chapter" data-level="9.2.7" data-path="ble-gatt-messages.html"><a href="ble-gatt-messages.html#query-status-of-acceleration-logging"><i class="fa fa-check"></i><b>9.2.7</b> Query status of acceleration logging</a></li>
<li class="chapter" data-level="9.2.8" data-path="ble-gatt-messages.html"><a href="ble-gatt-messages.html#query-flash-statistic"><i class="fa fa-check"></i><b>9.2.8</b> Query flash statistic</a></li>
<li class="chapter" data-level="9.2.9" data-path="ble-gatt-messages.html"><a href="ble-gatt-messages.html#query-boot-counter"><i class="fa fa-check"></i><b>9.2.9</b> Query boot counter</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="ble-gatt-messages.html"><a href="ble-gatt-messages.html#response-messages"><i class="fa fa-check"></i><b>9.3</b> Response messages</a><ul>
<li class="chapter" data-level="9.3.1" data-path="ble-gatt-messages.html"><a href="ble-gatt-messages.html#status-response"><i class="fa fa-check"></i><b>9.3.1</b> Status response</a></li>
<li class="chapter" data-level="9.3.2" data-path="ble-gatt-messages.html"><a href="ble-gatt-messages.html#end-of-data-message"><i class="fa fa-check"></i><b>9.3.2</b> End of data message</a></li>
<li class="chapter" data-level="9.3.3" data-path="ble-gatt-messages.html"><a href="ble-gatt-messages.html#configuration-response"><i class="fa fa-check"></i><b>9.3.3</b> Configuration response</a></li>
<li class="chapter" data-level="9.3.4" data-path="ble-gatt-messages.html"><a href="ble-gatt-messages.html#timestamp-response"><i class="fa fa-check"></i><b>9.3.4</b> Timestamp response</a></li>
<li class="chapter" data-level="9.3.5" data-path="ble-gatt-messages.html"><a href="ble-gatt-messages.html#flash-statistic-response"><i class="fa fa-check"></i><b>9.3.5</b> Flash statistic response</a></li>
<li class="chapter" data-level="9.3.6" data-path="ble-gatt-messages.html"><a href="ble-gatt-messages.html#boot-counter-response"><i class="fa fa-check"></i><b>9.3.6</b> boot counter response</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="ble-gatt-messages.html"><a href="ble-gatt-messages.html#data-message"><i class="fa fa-check"></i><b>9.4</b> Data message</a><ul>
<li class="chapter" data-level="9.4.1" data-path="ble-gatt-messages.html"><a href="ble-gatt-messages.html#bit-data-format"><i class="fa fa-check"></i><b>9.4.1</b> 12 bit data format</a></li>
<li class="chapter" data-level="9.4.2" data-path="ble-gatt-messages.html"><a href="ble-gatt-messages.html#bit-data-format-1"><i class="fa fa-check"></i><b>9.4.2</b> 10 bit data format</a></li>
<li class="chapter" data-level="9.4.3" data-path="ble-gatt-messages.html"><a href="ble-gatt-messages.html#bit-data-format-2"><i class="fa fa-check"></i><b>9.4.3</b> 8 bit data format</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="ble-gatt-messages.html"><a href="ble-gatt-messages.html#communication-example"><i class="fa fa-check"></i><b>9.5</b> Communication example</a></li>
<li class="chapter" data-level="9.6" data-path="ble-gatt-messages.html"><a href="ble-gatt-messages.html#streaming"><i class="fa fa-check"></i><b>9.6</b> Streaming</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="messageobjects.html"><a href="messageobjects.html"><i class="fa fa-check"></i><b>10</b> MessageObjects</a><ul>
<li class="chapter" data-level="10.1" data-path="messageobjects.html"><a href="messageobjects.html#return_values_from_sensor"><i class="fa fa-check"></i><b>10.1</b> return_values_from_sensor</a></li>
<li class="chapter" data-level="10.2" data-path="messageobjects.html"><a href="messageobjects.html#send_msg_object"><i class="fa fa-check"></i><b>10.2</b> send_msg_object</a></li>
</ul></li>
<li class="part"><span><b>To Do</b></span></li>
<li class="chapter" data-level="11" data-path="sensor-1.html"><a href="sensor-1.html"><i class="fa fa-check"></i><b>11</b> Sensor</a><ul>
<li class="chapter" data-level="11.1" data-path="sensor-1.html"><a href="sensor-1.html#hardware"><i class="fa fa-check"></i><b>11.1</b> Hardware</a><ul>
<li class="chapter" data-level="11.1.1" data-path="sensor-1.html"><a href="sensor-1.html#external-flash-memory"><i class="fa fa-check"></i><b>11.1.1</b> External Flash Memory</a></li>
<li class="chapter" data-level="11.1.2" data-path="sensor-1.html"><a href="sensor-1.html#board-redesign"><i class="fa fa-check"></i><b>11.1.2</b> Board Redesign</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="sensor-1.html"><a href="sensor-1.html#software"><i class="fa fa-check"></i><b>11.2</b> Software</a><ul>
<li class="chapter" data-level="11.2.1" data-path="sensor-1.html"><a href="sensor-1.html#general-todo"><i class="fa fa-check"></i><b>11.2.1</b> General ToDo</a></li>
<li class="chapter" data-level="11.2.2" data-path="sensor-1.html"><a href="sensor-1.html#security"><i class="fa fa-check"></i><b>11.2.2</b> Security</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="gateway-1.html"><a href="gateway-1.html"><i class="fa fa-check"></i><b>12</b> Gateway</a><ul>
<li class="chapter" data-level="12.1" data-path="gateway-1.html"><a href="gateway-1.html#hardware-1"><i class="fa fa-check"></i><b>12.1</b> Hardware</a><ul>
<li class="chapter" data-level="12.1.1" data-path="gateway-1.html"><a href="gateway-1.html#uninterruptible-power-supply"><i class="fa fa-check"></i><b>12.1.1</b> Uninterruptible Power Supply</a></li>
<li class="chapter" data-level="12.1.2" data-path="gateway-1.html"><a href="gateway-1.html#camera"><i class="fa fa-check"></i><b>12.1.2</b> Camera</a></li>
<li class="chapter" data-level="12.1.3" data-path="gateway-1.html"><a href="gateway-1.html#g4g5g-module"><i class="fa fa-check"></i><b>12.1.3</b> 3g/4g/5g Module</a></li>
<li class="chapter" data-level="12.1.4" data-path="gateway-1.html"><a href="gateway-1.html#bluetooth-hardware"><i class="fa fa-check"></i><b>12.1.4</b> Bluetooth Hardware</a></li>
<li class="chapter" data-level="12.1.5" data-path="gateway-1.html"><a href="gateway-1.html#case"><i class="fa fa-check"></i><b>12.1.5</b> Case</a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="gateway-1.html"><a href="gateway-1.html#software-1"><i class="fa fa-check"></i><b>12.2</b> Software</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="backend-1.html"><a href="backend-1.html"><i class="fa fa-check"></i><b>13</b> Backend</a></li>
<li class="part"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="" data-path="contributors.html"><a href="contributors.html"><i class="fa fa-check"></i>Contributors</a><ul>
<li class="chapter" data-level="" data-path="contributors.html"><a href="contributors.html#ws-2020-2021"><i class="fa fa-check"></i>WS 2020 / 2021</a></li>
<li class="chapter" data-level="" data-path="contributors.html"><a href="contributors.html#ss-2021"><i class="fa fa-check"></i>SS 2021</a></li>
<li class="chapter" data-level="" data-path="contributors.html"><a href="contributors.html#ws-2021-2022"><i class="fa fa-check"></i>WS 2021 / 2022</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="commerical-applications.html"><a href="commerical-applications.html"><i class="fa fa-check"></i>Commerical Applications</a><ul>
<li class="chapter" data-level="" data-path="commerical-applications.html"><a href="commerical-applications.html#literature"><i class="fa fa-check"></i>Literature</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="system-info.html"><a href="system-info.html"><i class="fa fa-check"></i>System Info</a></li>
<li class="divider"></li>
<li><a href="http://www.bchwtz.de" target="blank"><center>www.<b>BCHWTZ</b>.de</center></a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Big Data Case Studies</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="messageobjects" class="section level1">
<h1><span class="header-section-number">Chapter 10</span> MessageObjects</h1>
<p>The message classes should help to communicate with the backend via mqtt. For this task we need to decode the message into json and decode it back to a class later. Additionally, it makes the gateway library more dynamic.
There are two types:</p>
<pre><code>return_values_from_sensor
send_msg_object</code></pre>
<div id="return_values_from_sensor" class="section level2">
<h2><span class="header-section-number">10.1</span> return_values_from_sensor</h2>
<p>This class takes the returning messages from the sensors and converts them in one of the following objects:</p>
<pre><code>time_object
config_object
flash_statistics_object
status_object
acceloration_data_object
advertisement_data_object</code></pre>
<p>Depending on the called constructor this objects can be called via return_values_from_sensor.returnValue.</p>
<p>Objects:
&gt; time_object: consist of a status, the received time from the sensor and the sensor mac.
&gt; config_object: consist of a status, the config parameters from the sensor and the sensor mac.
&gt; flash_statistics_object: consist of a status, the flash statistic parameters from the sensor and the sensor mac.
&gt; status_object: consist of a status.
&gt; acceloration_data_object: consists of the received acceleration data and the sensor mac.
&gt; advertisement_data_object: consists of the current time, the advertisement data from the sensor and the mac address form the sensor</p>
</div>
<div id="send_msg_object" class="section level2">
<h2><span class="header-section-number">10.2</span> send_msg_object</h2>
<p>To communicate with the sensor, you must send the right message object. These message object must be one of the following:</p>
<pre><code>send_set_sensor_time_object
send_set_config_object
send_activate_logging_object
send_deactivate_logging_object
send_get_config_object
send_get_senor_time_object
send_get_flash_statistics_object
send_get_logging_status_object
send_get_acceleration_data_object
send_activate_advertisement_logging_object</code></pre>
<p>All these objects take the targeted mac and a command string. The targeted mac can be a single mac address, multiple macs addresses as list or an empty string. In the last case the command is send to all tags in range. The only purpose of this class is to differentiate between the different commands which are sent to the sensors.
To initialize this object the specific constructor in send_msg_objects must be called.</p>

</div>
</div>



</div>
            </section>

          </div>
        </div>
      </div>
<a href="ble-gatt-messages.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="sensor-1.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/15-MessageObjects.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["bchwtz-bdcs.pdf", "bchwtz-bdcs.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
