<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 2 Getting Started | Big Data Case Studies</title>
  <meta name="description" content="Chapter 2 Getting Started | Big Data Case Studies" />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 2 Getting Started | Big Data Case Studies" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Chapter 2 Getting Started | Big Data Case Studies" />
  <meta name="github-repo" content="bchwtz/bchwtz-bdcs" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 2 Getting Started | Big Data Case Studies" />
  
  <meta name="twitter:description" content="Chapter 2 Getting Started | Big Data Case Studies" />
  

<meta name="author" content="Benjamin Buchwitz" />


<meta name="date" content="2021-06-13" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>
<link rel="next" href="sensor.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./"><b>Big Data Case Studies</b></a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="getting-started.html"><a href="getting-started.html"><i class="fa fa-check"></i><b>2</b> Getting Started</a><ul>
<li class="chapter" data-level="2.1" data-path="getting-started.html"><a href="getting-started.html#sensor-development-environment"><i class="fa fa-check"></i><b>2.1</b> Sensor Development Environment</a><ul>
<li class="chapter" data-level="2.1.1" data-path="getting-started.html"><a href="getting-started.html#software-setup"><i class="fa fa-check"></i><b>2.1.1</b> Software Setup</a></li>
<li class="chapter" data-level="2.1.2" data-path="getting-started.html"><a href="getting-started.html#hardware-setup"><i class="fa fa-check"></i><b>2.1.2</b> Hardware Setup</a></li>
<li class="chapter" data-level="2.1.3" data-path="getting-started.html"><a href="getting-started.html#testing-the-gateway-connection"><i class="fa fa-check"></i><b>2.1.3</b> Testing the Gateway Connection</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="getting-started.html"><a href="getting-started.html#gateway-development-environment"><i class="fa fa-check"></i><b>2.2</b> Gateway Development Environment</a></li>
</ul></li>
<li class="part"><span><b>Documentation</b></span></li>
<li class="chapter" data-level="3" data-path="sensor.html"><a href="sensor.html"><i class="fa fa-check"></i><b>3</b> Sensor</a><ul>
<li class="chapter" data-level="3.1" data-path="sensor.html"><a href="sensor.html#initializing-acceleration-logging"><i class="fa fa-check"></i><b>3.1</b> Initializing acceleration logging</a></li>
<li class="chapter" data-level="3.2" data-path="sensor.html"><a href="sensor.html#retrieving-data-from-fifo"><i class="fa fa-check"></i><b>3.2</b> Retrieving data from FIFO</a></li>
<li class="chapter" data-level="3.3" data-path="sensor.html"><a href="sensor.html#using-the-data-by-hearbeat"><i class="fa fa-check"></i><b>3.3</b> Using the data by hearbeat</a></li>
<li class="chapter" data-level="3.4" data-path="sensor.html"><a href="sensor.html#initialization-during-boot"><i class="fa fa-check"></i><b>3.4</b> Initialization during boot</a></li>
<li class="chapter" data-level="3.5" data-path="sensor.html"><a href="sensor.html#implementation"><i class="fa fa-check"></i><b>3.5</b> Implementation</a><ul>
<li class="chapter" data-level="3.5.1" data-path="sensor.html"><a href="sensor.html#app_accelerometer_logging.c"><i class="fa fa-check"></i><b>3.5.1</b> app_accelerometer_logging.c</a></li>
<li class="chapter" data-level="3.5.2" data-path="sensor.html"><a href="sensor.html#app_comms.c"><i class="fa fa-check"></i><b>3.5.2</b> app_comms.c</a></li>
<li class="chapter" data-level="3.5.3" data-path="sensor.html"><a href="sensor.html#app_config.h"><i class="fa fa-check"></i><b>3.5.3</b> app_config.h</a></li>
<li class="chapter" data-level="3.5.4" data-path="sensor.html"><a href="sensor.html#app_sensor.c"><i class="fa fa-check"></i><b>3.5.4</b> app_sensor.c</a></li>
<li class="chapter" data-level="3.5.5" data-path="sensor.html"><a href="sensor.html#main.c"><i class="fa fa-check"></i><b>3.5.5</b> main.c</a></li>
<li class="chapter" data-level="3.5.6" data-path="sensor.html"><a href="sensor.html#ruuvi_interface_lis2dh12.c"><i class="fa fa-check"></i><b>3.5.6</b> ruuvi_interface_lis2dh12.c</a></li>
<li class="chapter" data-level="3.5.7" data-path="sensor.html"><a href="sensor.html#ruuvi_nrf5_sdk_rtc_mcu.c"><i class="fa fa-check"></i><b>3.5.7</b> ruuvi_nrf5_sdk_rtc_mcu.c</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="sensor.html"><a href="sensor.html#ringbuffer-module"><i class="fa fa-check"></i><b>3.6</b> Ringbuffer module</a><ul>
<li class="chapter" data-level="3.6.1" data-path="sensor.html"><a href="sensor.html#general-functionality"><i class="fa fa-check"></i><b>3.6.1</b> General functionality</a></li>
<li class="chapter" data-level="3.6.2" data-path="sensor.html"><a href="sensor.html#project-related-use-case"><i class="fa fa-check"></i><b>3.6.2</b> Project-related use case</a></li>
<li class="chapter" data-level="3.6.3" data-path="sensor.html"><a href="sensor.html#implemented-functions"><i class="fa fa-check"></i><b>3.6.3</b> Implemented functions</a></li>
<li class="chapter" data-level="3.6.4" data-path="sensor.html"><a href="sensor.html#ruuvi_task_flash.c"><i class="fa fa-check"></i><b>3.6.4</b> ruuvi_task_flash.c</a></li>
<li class="chapter" data-level="3.6.5" data-path="sensor.html"><a href="sensor.html#ruuvi_nrf5_sdk15_flash.c"><i class="fa fa-check"></i><b>3.6.5</b> ruuvi_nrf5_sdk15_flash.c</a></li>
<li class="chapter" data-level="3.6.6" data-path="sensor.html"><a href="sensor.html#exemplary-use"><i class="fa fa-check"></i><b>3.6.6</b> Exemplary use</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="gateway.html"><a href="gateway.html"><i class="fa fa-check"></i><b>4</b> Gateway</a><ul>
<li class="chapter" data-level="4.1" data-path="gateway.html"><a href="gateway.html#sensor-gateway-communication-library"><i class="fa fa-check"></i><b>4.1</b> Sensor Gateway Communication Library</a><ul>
<li class="chapter" data-level="4.1.1" data-path="gateway.html"><a href="gateway.html#activate-acceleration-logging"><i class="fa fa-check"></i><b>4.1.1</b> Activate acceleration logging</a></li>
<li class="chapter" data-level="4.1.2" data-path="gateway.html"><a href="gateway.html#deactivate-acceleration-logging"><i class="fa fa-check"></i><b>4.1.2</b> Deactivate acceleration logging</a></li>
<li class="chapter" data-level="4.1.3" data-path="gateway.html"><a href="gateway.html#set-sensor-configuration"><i class="fa fa-check"></i><b>4.1.3</b> Set sensor configuration</a></li>
<li class="chapter" data-level="4.1.4" data-path="gateway.html"><a href="gateway.html#set-sensor-time"><i class="fa fa-check"></i><b>4.1.4</b> Set sensor time</a></li>
<li class="chapter" data-level="4.1.5" data-path="gateway.html"><a href="gateway.html#get-sensor-configuratin"><i class="fa fa-check"></i><b>4.1.5</b> Get sensor configuratin</a></li>
<li class="chapter" data-level="4.1.6" data-path="gateway.html"><a href="gateway.html#get-sensor-time"><i class="fa fa-check"></i><b>4.1.6</b> Get sensor time</a></li>
<li class="chapter" data-level="4.1.7" data-path="gateway.html"><a href="gateway.html#get-last-sample"><i class="fa fa-check"></i><b>4.1.7</b> Get last sample</a></li>
<li class="chapter" data-level="4.1.8" data-path="gateway.html"><a href="gateway.html#get-acceleration-data"><i class="fa fa-check"></i><b>4.1.8</b> Get acceleration data</a></li>
<li class="chapter" data-level="4.1.9" data-path="gateway.html"><a href="gateway.html#find-macs"><i class="fa fa-check"></i><b>4.1.9</b> Find Macs</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="gateway.html"><a href="gateway.html#advertisement-logging"><i class="fa fa-check"></i><b>4.2</b> Advertisement logging</a></li>
<li class="chapter" data-level="4.3" data-path="gateway.html"><a href="gateway.html#data-storage-format"><i class="fa fa-check"></i><b>4.3</b> Data storage format</a><ul>
<li class="chapter" data-level="4.3.1" data-path="gateway.html"><a href="gateway.html#csv-file-acceleration-logging"><i class="fa fa-check"></i><b>4.3.1</b> Csv file acceleration Logging</a></li>
<li class="chapter" data-level="4.3.2" data-path="gateway.html"><a href="gateway.html#csv-file-advertisement-logging"><i class="fa fa-check"></i><b>4.3.2</b> Csv file advertisement Logging</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="backend.html"><a href="backend.html"><i class="fa fa-check"></i><b>5</b> Backend</a></li>
<li class="chapter" data-level="6" data-path="ble-gatt-messages.html"><a href="ble-gatt-messages.html"><i class="fa fa-check"></i><b>6</b> BLE GATT Messages</a><ul>
<li class="chapter" data-level="6.1" data-path="ble-gatt-messages.html"><a href="ble-gatt-messages.html#general-message-structure"><i class="fa fa-check"></i><b>6.1</b> General message structure</a></li>
<li class="chapter" data-level="6.2" data-path="ble-gatt-messages.html"><a href="ble-gatt-messages.html#control-messages"><i class="fa fa-check"></i><b>6.2</b> Control messages</a><ul>
<li class="chapter" data-level="6.2.1" data-path="ble-gatt-messages.html"><a href="ble-gatt-messages.html#start-transmitting-acceleration-data"><i class="fa fa-check"></i><b>6.2.1</b> Start transmitting acceleration data</a></li>
<li class="chapter" data-level="6.2.2" data-path="ble-gatt-messages.html"><a href="ble-gatt-messages.html#set-configuration-of-acceleration-sensor"><i class="fa fa-check"></i><b>6.2.2</b> Set configuration of acceleration sensor</a></li>
<li class="chapter" data-level="6.2.3" data-path="ble-gatt-messages.html"><a href="ble-gatt-messages.html#read-configuration-of-acceleration-sensor"><i class="fa fa-check"></i><b>6.2.3</b> Read configuration of acceleration sensor</a></li>
<li class="chapter" data-level="6.2.4" data-path="ble-gatt-messages.html"><a href="ble-gatt-messages.html#set-system-time"><i class="fa fa-check"></i><b>6.2.4</b> Set system time</a></li>
<li class="chapter" data-level="6.2.5" data-path="ble-gatt-messages.html"><a href="ble-gatt-messages.html#read-system-time"><i class="fa fa-check"></i><b>6.2.5</b> Read system time</a></li>
<li class="chapter" data-level="6.2.6" data-path="ble-gatt-messages.html"><a href="ble-gatt-messages.html#control-acceleration-logging"><i class="fa fa-check"></i><b>6.2.6</b> Control acceleration logging</a></li>
<li class="chapter" data-level="6.2.7" data-path="ble-gatt-messages.html"><a href="ble-gatt-messages.html#query-status-of-acceleration-logging"><i class="fa fa-check"></i><b>6.2.7</b> Query status of acceleration logging</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="ble-gatt-messages.html"><a href="ble-gatt-messages.html#response-messages"><i class="fa fa-check"></i><b>6.3</b> Response messages</a><ul>
<li class="chapter" data-level="6.3.1" data-path="ble-gatt-messages.html"><a href="ble-gatt-messages.html#status-response"><i class="fa fa-check"></i><b>6.3.1</b> Status response</a></li>
<li class="chapter" data-level="6.3.2" data-path="ble-gatt-messages.html"><a href="ble-gatt-messages.html#end-of-data-message"><i class="fa fa-check"></i><b>6.3.2</b> End of data message</a></li>
<li class="chapter" data-level="6.3.3" data-path="ble-gatt-messages.html"><a href="ble-gatt-messages.html#configuration-response"><i class="fa fa-check"></i><b>6.3.3</b> Configuration response</a></li>
<li class="chapter" data-level="6.3.4" data-path="ble-gatt-messages.html"><a href="ble-gatt-messages.html#timestamp-response"><i class="fa fa-check"></i><b>6.3.4</b> Timestamp response</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="ble-gatt-messages.html"><a href="ble-gatt-messages.html#data-message"><i class="fa fa-check"></i><b>6.4</b> Data message</a><ul>
<li class="chapter" data-level="6.4.1" data-path="ble-gatt-messages.html"><a href="ble-gatt-messages.html#bit-data-format"><i class="fa fa-check"></i><b>6.4.1</b> 12 bit data format</a></li>
<li class="chapter" data-level="6.4.2" data-path="ble-gatt-messages.html"><a href="ble-gatt-messages.html#bit-data-format-1"><i class="fa fa-check"></i><b>6.4.2</b> 10 bit data format</a></li>
<li class="chapter" data-level="6.4.3" data-path="ble-gatt-messages.html"><a href="ble-gatt-messages.html#bit-data-format-2"><i class="fa fa-check"></i><b>6.4.3</b> 8 bit data format</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="ble-gatt-messages.html"><a href="ble-gatt-messages.html#flash-statistic"><i class="fa fa-check"></i><b>6.5</b> Flash statistic</a></li>
<li class="chapter" data-level="6.6" data-path="ble-gatt-messages.html"><a href="ble-gatt-messages.html#communication-example"><i class="fa fa-check"></i><b>6.6</b> Communication example</a></li>
</ul></li>
<li class="part"><span><b>To Do</b></span></li>
<li class="chapter" data-level="7" data-path="sensor-1.html"><a href="sensor-1.html"><i class="fa fa-check"></i><b>7</b> Sensor</a><ul>
<li class="chapter" data-level="7.1" data-path="sensor-1.html"><a href="sensor-1.html#hardware"><i class="fa fa-check"></i><b>7.1</b> Hardware</a><ul>
<li class="chapter" data-level="7.1.1" data-path="sensor-1.html"><a href="sensor-1.html#external-flash-memory"><i class="fa fa-check"></i><b>7.1.1</b> External Flash Memory</a></li>
<li class="chapter" data-level="7.1.2" data-path="sensor-1.html"><a href="sensor-1.html#board-redesign"><i class="fa fa-check"></i><b>7.1.2</b> Board Redesign</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="sensor-1.html"><a href="sensor-1.html#software"><i class="fa fa-check"></i><b>7.2</b> Software</a><ul>
<li class="chapter" data-level="7.2.1" data-path="sensor-1.html"><a href="sensor-1.html#general-todo"><i class="fa fa-check"></i><b>7.2.1</b> General ToDo</a></li>
<li class="chapter" data-level="7.2.2" data-path="sensor-1.html"><a href="sensor-1.html#security"><i class="fa fa-check"></i><b>7.2.2</b> Security</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="gateway-1.html"><a href="gateway-1.html"><i class="fa fa-check"></i><b>8</b> Gateway</a><ul>
<li class="chapter" data-level="8.1" data-path="gateway-1.html"><a href="gateway-1.html#hardware-1"><i class="fa fa-check"></i><b>8.1</b> Hardware</a><ul>
<li class="chapter" data-level="8.1.1" data-path="gateway-1.html"><a href="gateway-1.html#uninterruptible-power-supply"><i class="fa fa-check"></i><b>8.1.1</b> Uninterruptible Power Supply</a></li>
<li class="chapter" data-level="8.1.2" data-path="gateway-1.html"><a href="gateway-1.html#camera"><i class="fa fa-check"></i><b>8.1.2</b> Camera</a></li>
<li class="chapter" data-level="8.1.3" data-path="gateway-1.html"><a href="gateway-1.html#g4g5g-module"><i class="fa fa-check"></i><b>8.1.3</b> 3g/4g/5g Module</a></li>
<li class="chapter" data-level="8.1.4" data-path="gateway-1.html"><a href="gateway-1.html#bluetooth-hardware"><i class="fa fa-check"></i><b>8.1.4</b> Bluetooth Hardware</a></li>
<li class="chapter" data-level="8.1.5" data-path="gateway-1.html"><a href="gateway-1.html#case"><i class="fa fa-check"></i><b>8.1.5</b> Case</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="gateway-1.html"><a href="gateway-1.html#software-1"><i class="fa fa-check"></i><b>8.2</b> Software</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="backend-1.html"><a href="backend-1.html"><i class="fa fa-check"></i><b>9</b> Backend</a></li>
<li class="part"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="" data-path="contributors.html"><a href="contributors.html"><i class="fa fa-check"></i>Contributors</a><ul>
<li class="chapter" data-level="" data-path="contributors.html"><a href="contributors.html#ws-2020-2021"><i class="fa fa-check"></i>WS 2020 / 2021</a></li>
<li class="chapter" data-level="" data-path="contributors.html"><a href="contributors.html#ss-2021"><i class="fa fa-check"></i>SS 2021</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="commerical-applications.html"><a href="commerical-applications.html"><i class="fa fa-check"></i>Commerical Applications</a><ul>
<li class="chapter" data-level="" data-path="commerical-applications.html"><a href="commerical-applications.html#literature"><i class="fa fa-check"></i>Literature</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="system-info.html"><a href="system-info.html"><i class="fa fa-check"></i>System Info</a></li>
<li class="divider"></li>
<li><a href="http://www.bchwtz.de" target="blank"><center>www.<b>BCHWTZ</b>.de</center></a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Big Data Case Studies</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="getting-started" class="section level1">
<h1><span class="header-section-number">Chapter 2</span> Getting Started</h1>
<div id="sensor-development-environment" class="section level2">
<h2><span class="header-section-number">2.1</span> Sensor Development Environment</h2>
<p>This Chapter is a short guide for setting up your development environment. Until you receive your hardware you can start with installing the necessary software.</p>
<div id="software-setup" class="section level3">
<h3><span class="header-section-number">2.1.1</span> Software Setup</h3>
<ol style="list-style-type: decimal">
<li><p>Download <strong>Segger Embedded Studio for ARM 5.10d</strong> (<a href="https://www.segger.com/downloads/embedded-studio" class="uri">https://www.segger.com/downloads/embedded-studio</a>)</p></li>
<li><p>Download <strong>nRF5_SDK_15.3.0_59ac345.zip</strong> (<a href="https://developer.nordicsemi.com/nRF5_SDK/nRF5_SDK_v15.x.x/" class="uri">https://developer.nordicsemi.com/nRF5_SDK/nRF5_SDK_v15.x.x/</a>)</p></li>
<li><p>Clone <a href="https://github.com/bchwtz-fhswf/ruuvi.firmware.c" class="uri">https://github.com/bchwtz-fhswf/ruuvi.firmware.c</a>. Copy the extracted ZIP from 2. Inside the cloned folder (If you don’t know how to clone a git repository look at <a href="https://git-scm.com/book/en/v2/Git-Basics-Getting-a-Git-Repository" class="uri">https://git-scm.com/book/en/v2/Git-Basics-Getting-a-Git-Repository</a>.</p></li>
</ol>
<p>The final result should look like this:</p>
<p><img src="gfx/org/nRF_in_Ruuvi_folder.png" /></p>
<ol start="4" style="list-style-type: decimal">
<li><p>Open SEGGER and click <strong>File</strong> <span class="math inline">\(\rightarrow\)</span> <strong>Open Solution</strong>, navigate to the cloned repository and open <code>ruuvi.firmware.c</code>. The project should now be inside SEGGER.</p></li>
<li><p>Search <em>Project ‘ruuvitag_b’</em> on the left inside SEGGER, right-click and choose <em>Set as Active Project</em>.</p></li>
</ol>
</div>
<div id="hardware-setup" class="section level3">
<h3><span class="header-section-number">2.1.2</span> Hardware Setup</h3>
<ol start="6" style="list-style-type: decimal">
<li><p>Open your ruuvi tag, take PCB &amp; battery out (you can do so with a little screwdriver or by gently pulling on the battery clip)</p></li>
<li><p>Remove the battery by pressing it down
<img src="gfx/org/Tag_Demontage.jpg" /></p></li>
<li><p>Connect the “Tag Connector” cable + plug to your ruuvi tag
<img src="gfx/org/Tag_connector.jpg" /></p></li>
<li><p>Connect the other side of the tag connector to the Debug in slot on the Nordic SDK</p></li>
<li><p>Connect your SDK over USB with your PC
<img src="gfx/org/SDK_SetUp.jpg" /></p></li>
<li><p>To test if everything is right, open SEGGER and click <strong>Target</strong> <span class="math inline">\(\rightarrow\)</span> <strong>Connect J-Link</strong>. SEGGER should connect to your SDK</p></li>
<li><p>To flash your ruuvi tag with the cloned firmware, click <strong>Target</strong> <span class="math inline">\(\rightarrow\)</span> <strong>Erase All</strong>, afterwards click <strong>Build</strong> <span class="math inline">\(\rightarrow\)</span> <strong>Build and Run</strong>.</p></li>
</ol>
</div>
<div id="testing-the-gateway-connection" class="section level3">
<h3><span class="header-section-number">2.1.3</span> Testing the Gateway Connection</h3>
<ol style="list-style-type: decimal">
<li><p>Connect your Raspberry Pi to a screen via HDMI.</p></li>
<li><p>Connect your Raspberry to your WiFi.</p></li>
<li><p>Activate SSH and VNC by clicking on the raspberry on the top left <span class="math inline">\(\rightarrow\)</span> <strong>Preferences</strong> <span class="math inline">\(\rightarrow\)</span> <strong>Raspberry-Pi-Configuration</strong> <span class="math inline">\(\rightarrow\)</span> <strong>Interfaces</strong>, change SSH and VNC to activated.</p></li>
</ol>
<p><img src="gfx/org/Raspberry_setup1.PNG" /></p>
<p><img src="gfx/org/Raspberry_setup2.PNG" /></p>
<ol start="4" style="list-style-type: decimal">
<li><p>On your PC, download PuTTY (<a href="https://www.putty.org/" class="uri">https://www.putty.org/</a>)</p></li>
<li><p>Get your Raspberry’s IP-Adress by opening a command line on your PC and and type:</p></li>
</ol>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="getting-started.html#cb1-1"></a><span class="fu">ping</span> raspberrypi.local</span></code></pre></div>
<ol start="6" style="list-style-type: decimal">
<li><p>Open PuTTY, type the IP-Adress into the Host Name field. You can save it by entering a name into the “Saved Sessions” field and pressing “save”. Afterwards select “open”.</p></li>
<li><p>When asked for the username type <code>pi</code> and afterwards enter your password. If you did not change it on Raspberry’s startup it should be <code>raspberry</code>.</p></li>
<li><p>To clone the Gateway repository (<a href="https://github.com/bchwtz-fhswf/gateway" class="uri">https://github.com/bchwtz-fhswf/gateway</a>) onto your pi, you need a SSH Key which is connected to your account. Generate it by following the instructions in <a href="https://docs.github.com/en/github/authenticating-to-github/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent" class="uri">https://docs.github.com/en/github/authenticating-to-github/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent</a> for Linux (you dont have to pass it to a key agent) and add it to your account by following the instructions in <a href="https://docs.github.com/en/github/authenticating-to-github/adding-a-new-ssh-key-to-your-github-account" class="uri">https://docs.github.com/en/github/authenticating-to-github/adding-a-new-ssh-key-to-your-github-account</a></p></li>
<li><p>Clone the gateway repository to your raspberry by typing the folowing into the remote console window connected to your raspberry. When asked, enter the SSH Key password you initiated while generating the key.</p></li>
</ol>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="getting-started.html#cb2-1"></a><span class="fu">git</span> clone git@github.com:bchwtz-fhswf/gateway.git </span></code></pre></div>
<ol start="10" style="list-style-type: decimal">
<li>Before you are able to execute some of the scripts, you have to install some Python modules by typing or pasting the following commands. (You can paste into a PuTTY window by right-clicking)</li>
</ol>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="getting-started.html#cb3-1"></a><span class="ex">pip3</span> install ruuvitag_sensor</span>
<span id="cb3-2"><a href="getting-started.html#cb3-2"></a><span class="ex">pip3</span> install crcmod</span>
<span id="cb3-3"><a href="getting-started.html#cb3-3"></a><span class="ex">pip3</span> install pygatt</span>
<span id="cb3-4"><a href="getting-started.html#cb3-4"></a><span class="ex">pip3</span> install interruptingcow</span>
<span id="cb3-5"><a href="getting-started.html#cb3-5"></a><span class="fu">sudo</span> apt-get install bluez bluez-hcidump</span></code></pre></div>
<ol start="11" style="list-style-type: decimal">
<li><p>To try if your setup is working, navigate to the cloned repo and type <code>python3 GetConfigFromSensor.py</code>. You should see something like this:
<img src="gfx/org/Test.png" /></p></li>
<li><p>To properly use the gateway library, type <code>python3</code> into the remote console window. This activates an interactive python session.</p></li>
</ol>
<div class="sourceCode" id="cb4"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb4-1"><a href="getting-started.html#cb4-1"></a><span class="im">import</span> SensorGatewayCommunication</span>
<span id="cb4-2"><a href="getting-started.html#cb4-2"></a>test <span class="op">=</span> SensorGatewayCommunication.RuuviTagAccelerometerCommunication()</span>
<span id="cb4-3"><a href="getting-started.html#cb4-3"></a>test.activate_logging_at_sensor()</span>
<span id="cb4-4"><a href="getting-started.html#cb4-4"></a></span>
<span id="cb4-5"><a href="getting-started.html#cb4-5"></a><span class="co"># Wait a few seconds and type</span></span>
<span id="cb4-6"><a href="getting-started.html#cb4-6"></a>test.get_last_sample_acceleration_data()</span>
<span id="cb4-7"><a href="getting-started.html#cb4-7"></a></span>
<span id="cb4-8"><a href="getting-started.html#cb4-8"></a><span class="co"># Wait 2 minutes and type</span></span>
<span id="cb4-9"><a href="getting-started.html#cb4-9"></a>abc <span class="op">=</span> test.get_acceleration_data() </span></code></pre></div>
<p>You should see some x,y and z acceleration data after executing the <code>get_last_sample_acceleration_data</code> function. After <code>get_acceleration_data</code>, you should see a lot of hex data flooding through your screen. They get saved inside a <code>*.csv</code> file for further analysis.</p>
<p><strong>CONGRATULATIONS! YOUR SETUP IS READY!!!</strong></p>
<div class="sourceCode" id="cb5"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb5-1"><a href="getting-started.html#cb5-1"></a><span class="co"># </span><span class="al">TODO</span><span class="co">: Add Explanation</span></span>
<span id="cb5-2"><a href="getting-started.html#cb5-2"></a><span class="fu">sudo</span> apt-get install libatlas-base-dev</span>
<span id="cb5-3"><a href="getting-started.html#cb5-3"></a><span class="fu">sudo</span> apt-get install python3-pandas</span>
<span id="cb5-4"><a href="getting-started.html#cb5-4"></a><span class="fu">sudo</span> apt-get install python3-numpy</span></code></pre></div>
<p>If you are constanly testing gateway-sensor interactions that it may be more convenient to do so via a webbrowser and not via a SSH remote shell. For this you can install a jupyter hub on the Pi <a href="https://towardsdatascience.com/setup-your-home-jupyterhub-on-a-raspberry-pi-7ad32e20eed" class="uri">https://towardsdatascience.com/setup-your-home-jupyterhub-on-a-raspberry-pi-7ad32e20eed</a></p>
</div>
</div>
<div id="gateway-development-environment" class="section level2">
<h2><span class="header-section-number">2.2</span> Gateway Development Environment</h2>

</div>
</div>



</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="sensor.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/01-org.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["bchwtz-bdcs.pdf", "bchwtz-bdcs.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
